<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>譯德文理補習班</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=2">
</head>
<body>

    <div id="app-header"></div>

    <div class="main-layout" id="main-layout">
        <app-sidebar id="app-sidebar"></app-sidebar>

        <main id="router-view">
            <div class="text-center p-5">Loading...</div>
        </main>
    </div>

    <div id="app-footer"></div>

    <div id="app-chatbot"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script type="module">
        import initRouter from './router.js?v=2';
        import Header from './components/header.js?v=2';
        import Footer from './components/footer.js?v=2';
        import './components/sidebar.js?v=2'; // Web Component 自定義標籤註冊
        import AIChatbot from './components/ai_chatbot.js?v=2';

        // 初始化靜態元件 (Header, Footer, Chatbot)
        document.getElementById('app-header').innerHTML = Header.render();
        Header.afterRender(); // 綁定監聽器

        document.getElementById('app-footer').innerHTML = Footer.render();

        document.getElementById('app-chatbot').innerHTML = AIChatbot.render();
        AIChatbot.afterRender();

        // 啟動路由
        initRouter();
    </script>
</body>
</html>